



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install and Configure Husky Software &mdash; Husky UGV Tutorials 0.5.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/clearpath.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Husky UGV Tutorials 0.5.1 documentation" href="index.html"/>
        <link rel="next" title="Customize Husky Configuration" href="CustomizeHuskyConfig.html"/>
        <link rel="prev" title="Backing Up Husky Configuration" href="BackUpHusky.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Start of clearpathrobotics Zendesk Widget script -->
<script>/*<![CDATA[​*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","clearpathrobotics.zendesk.com");/*​]]>*/</script>
<!-- End of clearpathrobotics Zendesk Widget script -->

<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-65409991-1', 'auto');
 ga('send', 'pageview');

</script>


</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Husky UGV Tutorials
          

          
            
            <img src="_static/clearpathlogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Installation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BackUpHusky.html">Backing Up Husky Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install and Configure Husky Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-husky-software">Installing Husky Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-base-configuration">Testing base configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calibrating-the-magnetometer">Calibrating the Magnetometer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CustomizeHuskyConfig.html">Customize Husky Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Husky</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SimulatingHusky.html">Simulating Husky</a></li>
<li class="toctree-l1"><a class="reference internal" href="InterfacingWithHusky.html">Interfacing with Husky</a></li>
<li class="toctree-l1"><a class="reference internal" href="DrivingHusky.html">Driving Husky</a></li>
</ul>
<p class="caption"><span class="caption-text">Demo Applications: Navigation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HuskyMove.html">Husky Move Base Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="HuskyAMCL.html">Husky AMCL Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="HuskyGmapping.html">Husky Gmapping Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="HuskyFrontiers.html">Husky Frontier Exploration Demo</a></li>
</ul>
<p class="caption"><span class="caption-text">Package Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HuskyPackages.html">Husky Packages</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Husky UGV Tutorials</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
     
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="http://support.clearpathrobotics.com">Home</a> &raquo;</li>
      
    <li>Install and Configure Husky Software</li>
      <li class="wy-breadcrumbs-aside">
        <div class="roslogo">
      </div>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="install-and-configure-husky-software">
<h1>Install and Configure Husky Software<a class="headerlink" href="#install-and-configure-husky-software" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-husky-software">
<h2>Installing Husky Software<a class="headerlink" href="#installing-husky-software" title="Permalink to this headline">¶</a></h2>
<p>Clearpath provides a lightly customized installation image of Ubuntu Trusty Server 14.04, that automatically pulls in all necessary dependencies for Husky software.</p>
<ol class="arabic simple">
<li><p>Download the appropriate <a class="reference external" href="https://packages.clearpathrobotics.com/stable/images/latest/kinetic-husky/">Kinetic Husky ISO image</a> for your platform (32 bit - i386, 64 bit - amd64).</p></li>
<li><p>Copy the image to a USB drive using unetbootin:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo unetbootin <span class="nv">isofile</span><span class="o">=</span><span class="s2">&quot;kinetic-husky-amd64-latest.iso&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Connect your robot PC to wired internet access, a keyboard, and a monitor. Make sure that the PC is connected to shore power, or the Husky battery is either fully charged.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The next step wipe your robot’s hard drive, so make sure you have that image <a class="reference external" href="http://wiki.ros.org/husky_bringup/Tutorials/Backing%20Up%20Husky%20Configuration">backed up</a> on another system!</p>
</div>
<ol class="arabic simple" start="4">
<li><p>Boot your robot PC from the USB drive, and let installer work it’s magic.</p></li>
<li><p>The setup process will be automated, and may take a long time depending on the speed of your internet connection.</p></li>
<li><p>Once the setup process is complete, the PC will turn off. Please unplug the USB drive and turn the PC back on.</p></li>
<li><p>On first boot, the username will be administrator and the password will be clearpath.</p></li>
<li><p>Please follow the configuration instructions on the screen. If the computer reboots, wait for the PC to boot to the login screen, and re-enter the login credentials.</p></li>
<li><p>Once the computer configuration is complete, you may use passwd utility to change administrator account password.</p></li>
<li><p>To setup a factory-standard Husky robot, ensure all your peripherals are plugged in, and run the following command:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rosrun husky_bringup install
</pre></div>
</div>
<p>The install script will configure a ros upstart service, that will bring up the base Husky launchfiles on boot. The script will also detect any standard peripherals (IMU, GPS, etc.) you have installed, and add them the service.</p>
</div>
<div class="section" id="testing-base-configuration">
<h2>Testing base configuration<a class="headerlink" href="#testing-base-configuration" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>To test your configuration, start the background service with the following command:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo systemctl start ros
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>The COMM light on your Husky should go from red to green. You can check that the service has started correctly by checking the logs:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo tail /var/log/upstart/ros.log -n <span class="m">30</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Your husky should now be accepting commands from your joystick. The service will automatically start each time you boot your Husky’s PC.</p></li>
</ol>
</div>
<div class="section" id="calibrating-the-magnetometer">
<h2>Calibrating the Magnetometer<a class="headerlink" href="#calibrating-the-magnetometer" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Husky will rotate autonomously during calibration. Make sure all external cables are unplugged, and the Husky has unobstructed room to move in a 1 metre radius.</p>
</div>
<p>If your Husky has a UM6 IMU installed, you must calibrate the magnetometer for magnetic deviation before it will be used for pose estimation.</p>
<ol class="arabic simple">
<li><p>Make sure the ros service is running.</p></li>
<li><p>Execute the calibration script on the Husky computer remotely via ssh:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosrun husky_bringup calibrate_compass
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Follow the onscreen instructions.</p></li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CustomizeHuskyConfig.html" class="btn btn-neutral float-right" title="Customize Husky Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="BackUpHusky.html" class="btn btn-neutral" title="Backing Up Husky Configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Clearpath Robotics.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>